---
title: "Daily Revenue Briefing Workflow"
date: "Oct 26, 2025"
tags:
  - ECOMMERCE
  - FINANCE
  - OPERATIONS
authors:
  - name: "Sagnik Ghosh"
    username: "samarth"
description: "Formal blueprint for a WorqHat workflow that automates the 9:00 AM revenue report from ingestion to executive briefing."
ogImage: "https://assets.worqhat.com/cookbook/daily-revenue-briefing.png"
videoUrl: "https://www.youtube.com/watch?v=CEiMy-Kercw"
videoPoster: "https://assets.worqhat.com/cookbook/daily-revenue-briefing.png"
videoDescription: "Detailed walkthrough showing the trigger, query, Text Gen analysis, charting, and email nodes, along with the KPIs surfaced to leadership."
---

# Overview

A North American commerce team replaced a fragile manual reporting ritual with a formal WorqHat workflow that assembles a complete revenue briefing by 09:00 each morning. The process now issues a precise summary, KPI table, and inline visualizations without CSV handoffs or spreadsheet remediation.

## Previous State

- 08:00 ‚Äì Manual export from the sales platform  
- 08:20 ‚Äì Ad hoc spreadsheet manipulation and charting  
- 08:45 ‚Äì Copy/paste into a slide deck  
- 09:05 ‚Äì ‚ÄúGood enough‚Äù email to leadership  
- 12:00 ‚Äì Follow‚Äëup thread to fix inconsistencies  

The workflow consumed senior operators, introduced version drift, and failed to earn trust in the numbers delivered at stand‚Äëup.

## Target State

A five-node WorqHat workflow replaced the ritual with a deterministic, auditable pipeline:

1. **Time-Based Runs** ‚Äì Executes daily at 09:00 with no human intervention.  
2. **Query Data** ‚Äì Issues a parameterized SQL query against the production sales cluster (yesterday‚Äôs transactions).  
3. **Text Gen (Detailed Analysis)** ‚Äì Converts the result set into a formal executive summary and normalized JSON payload of metrics.  
4. **Create Graphs** ‚Äì Renders visual assets (bar, line, stacked, dual-axis) directly from the JSON metrics.  
5. **Send Mail** ‚Äì Distributes the final briefing (summary, KPI table, inline charts, action recommendations) to the leadership alias.  

## Detailed Node Configuration

### 1. Time-Based Runs
- **Trigger:** 09:00 America/New_York, Monday‚ÄìFriday  
- **Retry:** 2 attempts with exponential backoff  

### 2. Query Data
- **Source:** `prod.sales.transactions`  
- **Filters:** `transaction_date = current_date - interval '1 day'`  
- **Output:** Structured rows (amount, product, channel, timestamp, refunds)  

### 3. Text Gen (Detailed Analysis)
- **Prompt:** ‚ÄúSummarize trends, produce JSON with revenue, transactions, AOV, conversion, refunds, category deltas, anomalies, and action cues.‚Äù  
- **Outputs:**  
  - Executive summary paragraphs  
  - JSON metrics for downstream visualization  

### 4. Create Graphs
- **Visuals:**  
  - Revenue by category (bar)  
  - Day-over-day revenue trend (line)  
  - Conversion vs. AOV (dual-axis)  
  - Refunds vs. net revenue (stacked bar)  
- **Rendering:** Server-side PNG, embedded as CID attachments  

### 5. Send Mail
- **Subject:** `Daily Revenue Briefing ‚Äî {{yesterday_date}}`  
- **Body Sections:** Executive summary, KPI table, inline charts, ‚ÄúActions Today‚Äù list  
- **Delivery Time:** 09:00 ¬± 1 minute  

## Outcomes

- **10+ hours/week saved** by the operations team  
- **Leadership alignment** before the morning stand‚Äëup (briefing arrives at 09:00 sharp)  
- **Single source of truth** thanks to direct database pulls  
- **Continuous monitoring** due to anomaly callouts in the generated summary  

## Recommended Actions

1. Configure the five-node pipeline in WorqHat using your production datasource.  
2. Parameterize the Text Gen prompt with organizational tone and required KPIs.  
3. Validate the JSON schema once, then wire Create Graphs and Send Mail directly to it.  
4. Extend the workflow with escalation logic (e.g., notify finance when refunds exceed thresholds).  

## Next Steps

Use this pattern to formalize any recurring business briefing:

- Replace CSV-driven morning rituals with deterministic WorqHat workflows.  
- Maintain structured JSON outputs to power both prose and visuals.  
- Keep ownership within business operations‚Äîno engineering tickets required.  

üëâ **Build this workflow in WorqHat and reclaim your morning.**